<!DOCTYPE html>
<html lang="lv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARCUS | Datoru Servisa Centrs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        html { scroll-behavior: smooth; }
        
        /* Akcijas joslas animÄcija */
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .animate-marquee {
            display: flex;
            width: max-content;
            animation: marquee 70s linear infinite;
        }
        .animate-marquee:hover { animation-play-state: paused; }
		
		/* --- MOBILÄ€ VERSIJA --- */
@media screen and (max-width: 768px) {
    /* Galvenais konteiners vairs nav blakus, bet viens zem otra */
    .container {
        flex-direction: column;
        padding: 15px;
        margin-top: 20px;
    }

    /* Banera teksts kÄ¼Å«st mazÄks, lai neaizÅ†em visu ekrÄnu */
    .banner h1 {
        font-size: 1.8rem;
        text-align: center;
    }

    /* Forma aizÅ†em pilnu platumu */
    form {
        width: 100% !important;
        margin: 0;
        padding: 15px;
    }

    /* Ievades lauki kÄ¼Å«st lielÄki, lai Ä“rtÄk trÄpÄ«t ar pirkstu */
    input, select, textarea, button {
        font-size: 16px !important; /* NovÄ“rÅ¡ automÄtisko tÄlummaiÅ†u iPhone ierÄ«cÄ“s */
        padding: 12px;
    }

    /* Ja tev ir bildes sÄnÄ, tÄs tagad bÅ«s apakÅ¡Ä vai pazudÄ«s */
    .image-section {
        display: none; /* Vai nu paslÄ“pjam, vai liekam zem formas */
    }
}
    </style>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body class="bg-white font-sans antialiased">

    <div id="akcijas-josla" class="hidden bg-slate-900 text-blue-400 py-2 border-b border-blue-500/30 overflow-hidden relative z-[60]">
    <div class="animate-marquee whitespace-nowrap flex items-center">
        <span id="akcijas-teksts" class="text-sm font-black uppercase tracking-[0.2em] px-4"></span>
        <span id="akcijas-teksts-2" class="text-sm font-black uppercase tracking-[0.2em] px-4"></span>
    </div>
</div>

    <nav class="bg-white border-b p-4 flex justify-between items-center shadow-md sticky top-0 z-50">
        <div class="text-2xl font-bold text-red-600 italic tracking-tighter uppercase">ARCUS <span class="text-gray-400 font-light">| TÄªKLS</span></div>
        <div class="hidden md:flex space-x-8 font-black uppercase text-[10px] tracking-widest text-gray-600">
            <a href="#sakums" class="hover:text-red-600 transition">SÄkums</a>
            <a href="#pakalpojumi" class="hover:text-red-600 transition">Pakalpojumi</a>
            <a href="#par-mums" class="hover:text-red-600 transition">Par mums</a>
        </div>
        <button onclick="toggleModal()" class="bg-gray-900 text-white px-6 py-2 rounded-xl shadow-lg hover:bg-red-600 transition uppercase text-xs font-black tracking-widest">
            Pieteikties
        </button>
    </nav>

    <header id="sakums" class="py-24 px-6 text-center bg-white border-b">
        <h1 class="text-5xl font-black mb-4 text-gray-900 uppercase tracking-tighter italic">Datoru Servisa <span class="text-red-600">Centrs</span></h1>
        <p class="max-w-xl mx-auto text-gray-500 text-lg font-medium">ProfesionÄls remonts un diagnostika JÅ«su IT tehnikai LiepÄjas sirdÄ«.</p>
    </header>

    <main id="pakalpojumi" class="max-w-6xl mx-auto p-12 grid md:grid-cols-3 gap-10">
        <div class="group p-8 border border-gray-100 shadow-sm rounded-3xl bg-white text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl border-t-4 border-t-transparent hover:border-t-red-600">
            <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform">ğŸ”</div>
            <h3 class="font-black text-xl mb-3 tracking-tighter uppercase italic">Pilna Diagnostika</h3>
            <p class="text-gray-500 text-sm leading-relaxed mb-4 font-medium">PadziÄ¼inÄta komponenÅ¡u pÄrbaude un defektu noteikÅ¡ana.</p>
            <span class="text-red-600 font-black text-xs uppercase tracking-widest bg-red-50 px-4 py-1 rounded-full">No 0.00 â‚¬*</span>
        </div>
        <div class="group p-8 border border-gray-100 shadow-sm rounded-3xl bg-white text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl border-t-4 border-t-red-600">
            <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform">ğŸ’¿</div>
            <h3 class="font-black text-xl mb-3 tracking-tighter uppercase italic">OS & Programmas</h3>
            <p class="text-gray-500 text-sm leading-relaxed mb-4 font-medium">Windows/MacOS instalÄcija un vÄ«rusu tÄ«rÄ«Å¡ana.</p>
            <span class="text-red-600 font-black text-xs uppercase tracking-widest bg-red-50 px-4 py-1 rounded-full">No 25.00 â‚¬</span>
        </div>
        <div class="group p-8 border border-gray-100 shadow-sm rounded-3xl bg-white text-center transition-all duration-300 hover:-translate-y-2 hover:shadow-2xl border-t-4 border-t-transparent hover:border-t-red-600">
            <div class="text-5xl mb-6 transform group-hover:scale-110 transition-transform">ğŸ’»</div>
            <h3 class="font-black text-xl mb-3 tracking-tighter uppercase italic">DetaÄ¼u NomaiÅ†a</h3>
            <p class="text-gray-500 text-sm leading-relaxed mb-4 font-medium">EkrÄnu, tastatÅ«ru un SSD disku uzstÄdÄ«Å¡ana.</p>
            <span class="text-red-600 font-black text-xs uppercase tracking-widest bg-red-50 px-4 py-1 rounded-full">No 15.00 â‚¬</span>
        </div>
    </main>

    <section id="par-mums" class="bg-gray-900 text-white py-24 px-6">
        <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-16 items-center">
            <div>
                <h2 class="text-4xl font-black mb-6 uppercase tracking-tighter italic text-red-600">KÄpÄ“c ARCUS?</h2>
                <p class="text-gray-400 text-lg leading-relaxed mb-8 font-medium">
                    MÄ“s esam vairÄk nekÄ tikai serviss. "ArcustÄ«kls" ir kvalitÄtes simbols LiepÄjÄ jau vairÄk nekÄ 10 gadus. 
                </p>
            </div>
            <div class="w-full h-[400px] rounded-[40px] overflow-hidden shadow-2xl border-4 border-gray-800 grayscale hover:grayscale-0 transition-all duration-700">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2222.846564633785!2d21.0104610773822!3d56.50495807337346!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x46faa626773531b7%3A0xc665191f6d33887c!2sGraudu%20iela%2043%2C%20Liep%C4%81ja%2C%20LV-3401!5e0!3m2!1slv!2slv!4v1700000000000" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </section>

    <div id="bookingModal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="fixed inset-0 bg-gray-900/80 backdrop-blur-sm" onclick="toggleModal()"></div>
        <div class="relative bg-white rounded-[40px] shadow-2xl max-w-lg w-full overflow-hidden z-[110] border-t-[12px] border-red-600">
            <button onclick="toggleModal()" class="absolute top-6 right-6 text-gray-300 hover:text-red-600 transition-all font-black text-2xl">Ã—</button>
            <div class="p-10">
                <h2 class="text-3xl font-black text-gray-900 tracking-tighter uppercase italic mb-6">Pieteikt <span class="text-red-600">Remontu</span></h2>
                <form id="repairForm" class="space-y-4">
                    <input type="text" name="vards" placeholder="VÄrds UzvÄrds" required class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-red-600 font-bold">
                    <div class="grid grid-cols-2 gap-4">
                        <input type="tel" name="talrunis" id="talrunis"placeholder="Telefons (8 cipari)" required maxlength="8" pattern="[0-9]{8}"oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 8);"class="p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-red-600 font-bold" >
                        <input type="email" name="email" placeholder="E-pasts" required class="p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-red-600 font-bold">
                    </div>
                    <select name="pakalpojums" class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-red-600 font-black uppercase text-xs tracking-widest">
                        <option>ğŸ” Pilna Diagnostika</option>
                        <option>ğŸ’¨ ProfilaktiskÄ apkope</option>
                        <option>ğŸ’¿ OS & Programmas</option>
                        <option>ğŸ’» DetaÄ¼u NomaiÅ†a</option>
                        <option>ğŸ› ï¸ SareÅ¾Ä£Ä«ti Remonti</option>
                    </select>
                    <textarea name="apraksts" placeholder="Äªss problÄ“mas apraksts..." rows="3" class="w-full p-4 bg-gray-50 border border-gray-100 rounded-2xl outline-none focus:ring-2 focus:ring-red-600 font-medium resize-none"></textarea>
                    <button type="submit" class="w-full bg-gray-900 text-white font-black py-5 rounded-2xl hover:bg-red-600 transition-all uppercase tracking-widest text-xs shadow-xl">NosÅ«tÄ«t Pieteikumu</button>
                </form>
            </div>
        </div>
    </div>

    <div id="thanksModal" class="hidden fixed inset-0 z-[150] flex items-center justify-center p-4">
        <div class="fixed inset-0 bg-gray-900/60 backdrop-blur-md"></div>
        <div class="relative bg-white rounded-[40px] shadow-2xl max-w-sm w-full p-12 text-center border-t-8 border-red-600">
            <div class="text-7xl mb-6">âœ…</div>
            <h2 class="text-3xl font-black text-gray-900 tracking-tighter uppercase italic mb-2">NosÅ«tÄ«ts!</h2>
            <p class="text-gray-500 font-medium mb-8 text-sm leading-relaxed">Paldies par pieteikumu! MÄ“s ar Jums sazinÄsimies tuvÄkajÄ laikÄ.</p>
            <button onclick="document.getElementById('thanksModal').classList.add('hidden')" class="w-full bg-gray-900 hover:bg-red-600 text-white font-black py-4 rounded-2xl transition-all uppercase tracking-widest text-xs">Sapratu</button>
        </div>
    </div>

    <button onclick="toggleStatusDrawer()" class="fixed top-1/2 right-0 -translate-y-1/2 bg-gray-900 text-white p-3 rounded-l-2xl shadow-2xl z-[80] hover:bg-red-600 transition-all group flex items-center gap-2">
        <span class="[writing-mode:vertical-lr] rotate-180 uppercase font-black text-[10px] tracking-widest py-2">PÄrbaudÄ«t statusu ğŸ”</span>
    </button>

    <div id="statusDrawer" class="fixed inset-y-0 right-0 w-full md:w-96 bg-white shadow-[-20px_0_50px_rgba(0,0,0,0.1)] z-[200] transform translate-x-full transition-transform duration-500 ease-in-out border-l-8 border-red-600">
        <div class="p-8 h-full flex flex-col">
            <button onclick="toggleStatusDrawer()" class="self-end text-3xl font-light hover:text-red-600 transition">Ã—</button>
            <div class="mt-10 text-center">
                <h2 class="text-3xl font-black uppercase italic tracking-tighter mb-2">PasÅ«tÄ«juma <span class="text-red-600">Statuss</span></h2>
                <p class="text-gray-400 text-[10px] uppercase font-bold tracking-widest mb-8">Ievadiet pieteikto tÄlruni</p>
                <input type="text" id="drawer-phone" placeholder="2XXXXXXX" class="w-full p-5 bg-gray-50 border border-gray-100 rounded-2xl mb-4 outline-none focus:ring-2 focus:ring-red-600 text-center font-bold text-xl">
                <button onclick="checkStatusInDrawer()" class="w-full bg-gray-900 text-white py-5 rounded-2xl font-black uppercase text-xs tracking-widest hover:bg-red-600 shadow-xl transition-all">MeklÄ“t datubÄzÄ“</button>
            </div>
            <div id="drawer-result" class="mt-12 hidden">
                <div class="relative flex flex-col gap-8 ml-4">
                    <div class="absolute left-[19px] top-0 w-1 h-full bg-gray-100 z-0"></div>
                    <div id="drawer-progress-line" class="absolute left-[19px] top-0 w-1 bg-red-600 z-0 transition-all duration-1000" style="height: 0%"></div>
                    <div class="drawer-step flex items-center gap-4 relative z-10">
                        <div class="drawer-dot w-10 h-10 rounded-full bg-gray-100 border-4 border-white flex items-center justify-center font-bold text-white shadow-sm transition-colors">1</div>
                        <span class="text-xs font-black uppercase text-gray-400">SaÅ†emts</span>
                    </div>
                    <div class="drawer-step flex items-center gap-4 relative z-10">
                        <div class="drawer-dot w-10 h-10 rounded-full bg-gray-100 border-4 border-white flex items-center justify-center font-bold text-white shadow-sm transition-colors">2</div>
                        <span class="text-xs font-black uppercase text-gray-400">Diagnostika</span>
                    </div>
                    <div class="drawer-step flex items-center gap-4 relative z-10">
                        <div class="drawer-dot w-10 h-10 rounded-full bg-gray-100 border-4 border-white flex items-center justify-center font-bold text-white shadow-sm transition-colors">3</div>
                        <span class="text-xs font-black uppercase text-gray-400">Remonts</span>
                    </div>
                    <div class="drawer-step flex items-center gap-4 relative z-10">
                        <div class="drawer-dot w-10 h-10 rounded-full bg-gray-100 border-4 border-white flex items-center justify-center font-bold text-white shadow-sm transition-colors">4</div>
                        <span class="text-xs font-black uppercase text-gray-400">Gatavs</span>
                    </div>
                </div>
                <p id="drawer-status-name" class="mt-8 text-center font-black italic text-red-600 uppercase"></p>
            </div>
        </div>
    </div>

    <div id="drawerOverlay" class="hidden fixed inset-0 bg-gray-900/40 backdrop-blur-sm z-[190]" onclick="toggleStatusDrawer()"></div>

    <script>
    // 1. ModÄlo logu pÄrvaldÄ«ba
    function toggleModal() {
        document.getElementById('bookingModal').classList.toggle('hidden');
    }

    function toggleStatusDrawer() {
        const drawer = document.getElementById('statusDrawer');
        const overlay = document.getElementById('drawerOverlay');
        drawer.classList.toggle('translate-x-full');
        overlay.classList.toggle('hidden');
    }

    function aizvertJoslu() { 
        document.getElementById('akcijas-josla').classList.add('hidden'); 
    }

    // 2. Banera statusa pÄrbaude no Admin paneÄ¼a
    async function initBanner() {
    const banner = document.getElementById('akcijas-josla');
    const txt1 = document.getElementById('akcijas-teksts');
    const txt2 = document.getElementById('akcijas-teksts-2');

    if (!banner || !txt1 || !txt2) return;

    try {
        // MÄ“Ä£inÄm ielÄdÄ“t datus
        const res = await fetch('/api/settings/banner?t=' + Date.now());
        const data = await res.json();

        if (data.enabled) {
            banner.classList.remove('hidden');
            // Izmantojam data.text (pÄrliecinies, ka admin panelis sÅ«ta 'text')
            const zinja = data.text || "Akcija ir aktÄ«va!"; 
            const kopejaisTeksts = " ğŸ”¥ " + zinja + " â€¢ ";
            
            txt1.innerText = kopejaisTeksts.repeat(15);
            txt2.innerText = kopejaisTeksts.repeat(15);
            console.log("Baneris ielÄdÄ“ts ar tekstu:", zinja);
        } else {
            banner.classList.add('hidden');
        }
    } catch (e) {
        console.error("KÄ¼Å«da ielÄdÄ“jot baneri:", e);
        // Testa nolÅ«kos vari Å¡eit ieslÄ“gt baneri, lai redzÄ“tu vai strÄdÄ:
        // banner.classList.remove('hidden');
        // txt1.innerText = "KÄ»ÅªDA SAVIENOJUMÄ€ â€¢ ".repeat(10);
    }
}

    // 3. Akcijas teksta ielÄde
    async function ieladetAkcijasTekstu() {
        try {
            const atbilde = await fetch('/api/config');
            const dati = await atbilde.json();
            if (dati && dati.akcija) {
                const txt = " ğŸ”¥ " + dati.akcija + " â€¢ ";
                document.getElementById('akcijas-teksts').innerText = txt.repeat(10);
                document.getElementById('akcijas-teksts-2').innerText = txt.repeat(10);
            }
        } catch (e) { console.error(e); }
    }

    // 4. Statusa pÄrbaude klientam
    async function checkStatusInDrawer() {
        const phone = document.getElementById('drawer-phone').value;
        const resultDiv = document.getElementById('drawer-result');
        const line = document.getElementById('drawer-progress-line');
        const dots = document.querySelectorAll('.drawer-dot');
        const labels = document.querySelectorAll('.drawer-step span');
        const nameDisplay = document.getElementById('drawer-status-name');

        try {
            const response = await fetch('/check-status', {
                method: 'POST',
                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                body: `talrunis=${encodeURIComponent(phone)}`
            });
            const data = await response.json();

            if (data.success) {
                resultDiv.classList.remove('hidden');
                nameDisplay.innerText = data.vards + " | " + data.statuss;
                
                const statusMap = { "SaÅ†emts": 0, "Diagnostika": 1, "Remonts": 2, "Gatavs": 3, "Izsniegts": 3 };
                const currentStep = statusMap[data.statuss] ?? 0;

                line.style.height = (currentStep / 3 * 100) + "%";
                dots.forEach((dot, i) => {
                    if (i <= currentStep) {
                        dot.classList.replace('bg-gray-100', 'bg-blue-600'); // NomainÄ«ts uz zilo
                        labels[i].classList.replace('text-gray-400', 'text-gray-900');
                        dot.innerHTML = 'âœ“';
                    } else {
                        dot.classList.replace('bg-blue-600', 'bg-gray-100');
                        labels[i].classList.replace('text-gray-900', 'text-gray-400');
                        dot.innerHTML = i + 1;
                    }
                });
            } else {
                alert(data.message);
            }
        } catch (e) { console.error(e); }
    }

    // 5. Formas pieteikums
    document.getElementById('repairForm').onsubmit = async (e) => {
        e.preventDefault();
        const formData = new URLSearchParams(new FormData(e.target));
        const response = await fetch('/pieteikt-servisu', {
            method: 'POST',
            body: formData
        });
        if (response.ok) {
            toggleModal();
            e.target.reset();
            document.getElementById('thanksModal').classList.remove('hidden');
        }
    };

    // 6. APVIENOTS IELÄ€DES SKRIPTS
    window.onload = () => {
        initBanner(); // Å Ä« funkcija tagad kontrolÄ“ visu banera redzamÄ«bu
    };
</script>

    <footer class="bg-slate-950 text-slate-50 pt-16 pb-8 px-6 border-t border-slate-800">
    <div class="max-w-7xl mx-auto">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 mb-12">
            
            <div class="space-y-4">
                <h2 class="text-2xl font-black italic tracking-tighter uppercase leading-none">
                    ARCUS <span class="text-blue-500">TÄªKLS</span>
                </h2>
                <p class="text-slate-400 text-xs leading-relaxed uppercase font-bold tracking-wider">
                    ProfesionÄls datoru serviss un IT risinÄjumi LiepÄjÄ kopÅ¡ 2000. gada. Tavs tehnoloÄ£iju partneris.
                </p>
            </div>

            <div class="space-y-4">
                <p class="text-[10px] font-black text-blue-500 uppercase tracking-widest">Atrodas</p>
                <div class="flex items-start gap-3">
                    <span class="text-blue-500 mt-1">ğŸ“</span>
                    <div class="text-sm">
                        <p class="font-bold uppercase italic">Graudu 43</p>
                        <p class="text-slate-400 font-medium">Ieeja no Pasta ielas</p>
                        <p class="text-slate-500">LiepÄja, Latvija</p>
                    </div>
                </div>
            </div>

            <div class="space-y-4">
                <p class="text-[10px] font-black text-blue-500 uppercase tracking-widest">SaziÅ†ai</p>
                <div class="space-y-2 text-sm font-bold">
                    <a href="tel:63423119" class="block hover:text-blue-500 transition-colors tracking-tight">ğŸ“ 634 23119</a>
                    <a href="tel:20364560" class="block hover:text-blue-500 transition-colors tracking-tight">ğŸ“± 203 64560</a>
                    <a href="mailto:arcustikls@gmail.com" class="block text-slate-400 hover:text-white transition-colors lowercase italic">âœ‰ï¸ arcustikls@gmail.com</a>
                </div>
            </div>

            <div class="space-y-4">
                <p class="text-[10px] font-black text-blue-500 uppercase tracking-widest">Darba laiks</p>
                <div class="text-xs space-y-2 font-bold uppercase italic">
                    <div class="flex justify-between border-b border-slate-800 pb-1">
                        <span class="text-slate-500">P-P</span>
                        <span>9:00 - 18:00</span>
                    </div>
                    <div class="flex justify-between border-b border-slate-800 pb-1">
                        <span class="text-slate-500">S.</span>
                        <span>10:00 - 16:00</span>
                    </div>
                    <div class="flex justify-between opacity-30">
                        <span class="text-slate-500">Sv.</span>
                        <span class="text-red-400">SlÄ“gts</span>
                    </div>
                </div>
            </div>

        </div>

        <div class="pt-8 border-t border-slate-900 flex flex-col md:flex-row justify-between items-center gap-4">
            <p class="text-[9px] font-bold text-slate-600 uppercase tracking-[0.2em]">
                &copy; 2026 ARCUS TÄªKLS. Visas tiesÄ«bas aizsargÄtas.
            </p>
            <div class="flex gap-6">
                <a href="#" class="text-[9px] font-bold text-slate-600 hover:text-blue-500 transition-colors uppercase tracking-widest">PrivÄtuma politika</a>
                <a href="/admin" class="text-[9px] font-bold text-slate-600 hover:text-red-600 transition-colors uppercase tracking-widest">Admin Panelis</a>
            </div>
        </div>
    </div>
</footer>

</body>
</html>